
### 封装

一个对象的变量或者方法如果对调用方是不可见的话，一般就被定义为"封装"，封装
有时候也被叫做信息隐藏，同时也是面向对象编程最关键的一个方面。

Go语言只有一种控制可见性的手段，大写字母的标识符会从定义它们的包中被导出，小
写字母的则不会，这种限制包内成员的方式同样适用于**struct**或者**一个类型**的方法。
因而如果我们想要封装一个对象，我们必须将其定义为一个struct。

这种基于名字的手段使得在语言中最小的封装单元是package，而不是像其他语言一样的
类型，一个struct类型的字段对同一个包的所有代码都是可见的。

封装提供了三方面的优点，首先，因为调用方不能直接修改对象的变量值，其中只需要
关注少量的语句并只要弄懂少量变量的可能的值即可。
第二，隐藏实现细节，可以防止调用方依赖那些可能变化的具体实现，这样使设计包的
程序员在不破坏对外api情况下能得到更大的自由。
第三个优点也是最重要的优点，是阻止了外部调用方对对象内部的值任意的进行修改。
因为对象内部变量只可以被同一个包内的函数修改。

```
type Counter struct { n int }

func (c *Counter) N() int { return c.n }
func (c *Counter) Increment() { c.n++ }
func (c *Counter) Reset() { c.n = 0 }
```

Go的编程风格不禁止直接导出字段，当然，一旦进行了导出，就没有办法保证api兼容
的情况下去掉其的导出，所以在一开始的选择一定要经过深思熟虑并且要考虑到包内
部的一些不变量的保证，未来可能的变化，以及调用方的代码质量是否会因为包的
一点修改而变差。

我们学到了如何将方法和命名类型进行**组合**，并且知道了如何调用这些方法，
尽管**方法**对于OOP编程来说至关重要，但也只是OOP编程的半边天，为了完成
OOP，我们还需要接口。



